{"repository_name":"github.com/onyxframework/onyx","body":"<a href=\"https://onyxframework.org\"><img width=\"100\" height=\"100\" src=\"https://onyxframework.org/img/logo.svg\"></a>\n\n# Onyx\n\n[![Built with Crystal](https://img.shields.io/badge/built%20with-crystal-000000.svg?style=flat-square)](https://crystal-lang.org/)\n[![Travis CI build](https://img.shields.io/travis/onyxframework/onyx/stable.svg?style=flat-square)](https://travis-ci.org/onyxframework/onyx)\n[![Docs](https://img.shields.io/badge/docs-online-brightgreen.svg?style=flat-square)](https://docs.onyxframework.org)\n[![API docs](https://img.shields.io/badge/api_docs-online-brightgreen.svg?style=flat-square)](https://api.onyxframework.org/onyx)\n[![Latest release](https://img.shields.io/github/release/onyxframework/onyx.svg?style=flat-square)](https://github.com/onyxframework/onyx/releases)\n\nPowerful framework for modern applications.\n\n## About üëã\n\nOnyx Framework is a powerful general purpose framework for [Crystal language](https://crystal-lang.org/). It has the following goals:\n\n* **Joy** for newcomers, yet an ability to scale with the developer's knowledge\n* **Type-safety** on top of Crystal's amazing built-in type system\n* **Performance** having minimum possible overhead\n\nThe framework consists of the following loosely coupled components:\n\n* [Onyx::HTTP](https://github.com/onyxframework/http) to build scalable web applications\n* [Onyx::SQL](https://github.com/onyxframework/sql) to add SQL models to your business layer\n* [Onyx::EDA](https://github.com/onyxframework/eda) to implement events-based reactivity\n\n## Supporters üïä\n\nThanks to all these patrons, the framework lives and prospers üôè\n\n[Lauri Jutila](https://github.com/ljuti), [Alexander Maslov](https://seendex.ru), Dainel Vera\n\n*You can become a patron too in exchange of prioritized support and other perks*\n\n<a href=\"https://www.patreon.com/vladfaust\"><img height=\"50\" src=\"https://onyxframework.org/img/patreon-button.svg\"></a>\n\n## Installation üì•\n\nAdd this to your application's `shard.yml`:\n\n```yaml\ndependencies:\n  onyx:\n    github: onyxframework/onyx\n    version: ~> 0.3.0\n```\n\nThis shard follows [Semantic Versioning v2.0.0](http://semver.org/), so check [releases](https://github.com/onyxframework/rest/releases) and change the `version` accordingly. Please visit [github.com/crystal-lang/shards](https://github.com/crystal-lang/shards) to know more about Crystal shards.\n\nNote that this shard does **not** have implicit dependencies for other framework components. For example, to use `\"onyx/http\"` macros, you must add `onyx-http` dependendency as well:\n\n```yaml\ndependencies:\n  onyx:\n    github: onyxframework/onyx\n    version: ~> 0.3.0\n  onyx-http:\n    github: onyxframework/http\n    version: ~> 0.7.0\n```\n\n## Documentation üìö\n\nThe documentation is available online at [docs.onyxframework.org](https://docs.onyxframework.org).\n\n## Community üç™\n\nThere are multiple places to talk about this particular shard and about other ones as well:\n\n* [Gitter](https://gitter.im/onyxframework/Lobby)\n* [Twitter](https://twitter.com/onyxframework)\n\n## Contributing\n\n1. Fork it ( https://github.com/onyxframework/onyx/fork )\n2. Create your feature branch (git checkout -b my-new-feature)\n3. Commit your changes (git commit -am 'feat: some feature') using [Angular style commits](https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit)\n4. Push to the branch (git push origin my-new-feature)\n5. Create a new Pull Request\n\n## Contributors\n\n- [Vlad Faust](https://github.com/vladfaust) - creator and maintainer\n\n## Licensing\n\nThis software is licensed under [MIT License](LICENSE).\n\n[![Open Source Initiative](https://upload.wikimedia.org/wikipedia/commons/thumb/4/42/Opensource.svg/100px-Opensource.svg.png)](https://opensource.org/licenses/MIT)\n","program":{"html_id":"github.com/onyxframework/onyx/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"superclass":null,"ancestors":[],"locations":[],"repository_name":"github.com/onyxframework/onyx","program":true,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[{"id":"custom_log_formatter-class-method","html_id":"custom_log_formatter-class-method","name":"custom_log_formatter","doc":"A custom log formatter.\n\n```\nrequire \"./custom_log_formatter\"\nlogger = Logger.new(STDOUT, Logger::DEBUG, custom_log_formatter)\nDEBUG [12:45:52.520 #13543] Hello world!\n```","summary":"<p>A custom log formatter.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/utils/custom_log_formatter.cr#L11","def":{"name":"custom_log_formatter","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Logger::Formatter.new do |severity, time, progname, message, io|\n  fore, back = case severity\n  when Logger::DEBUG\n    {:dark_gray, nil}\n  when Logger::INFO\n    {:green, nil}\n  when Logger::WARN\n    {:yellow, nil}\n  when Logger::ERROR\n    {nil, :red}\n  when Logger::FATAL\n    {nil, :red}\n  else\n    {nil, nil}\n  end\n  prefix = ((severity.to_s.rjust(5)) + \" [#{time.to_s(\"%X.%L\")} ##{Process.pid}]\").colorize\n  if fore\n    prefix.fore(fore)\n  end\n  if back\n    prefix.back(back)\n  end\n  ((io << prefix) << ' ') << message\nend"}}],"constructors":[],"instance_methods":[],"macros":[{"id":"buildtime_env(*env)-macro","html_id":"buildtime_env(*env)-macro","name":"buildtime_env","doc":"Define a required buildtime environment variable which would raise on missing.","summary":"<p>Define a required buildtime environment variable which would raise on missing.</p>","abstract":false,"args":[{"name":"env","doc":null,"default_value":"","external_name":"env","restriction":""}],"args_string":"(*env)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/utils/require_env.cr#L9","def":{"name":"buildtime_env","args":[{"name":"env","doc":null,"default_value":"","external_name":"env","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"  \n{% for env in envs %}\n    {% unless env(\"#{env.id}\")\n  raise(\"Buildtime environment variable #{env.id} is not defined!\")\nend %}\n  {% end %}\n\n\n"}},{"id":"runtime_env(*envs)-macro","html_id":"runtime_env(*envs)-macro","name":"runtime_env","doc":"Define a required runtime environment variable which would raise on missing.","summary":"<p>Define a required runtime environment variable which would raise on missing.</p>","abstract":false,"args":[{"name":"envs","doc":null,"default_value":"","external_name":"envs","restriction":""}],"args_string":"(*envs)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/utils/require_env.cr#L2","def":{"name":"runtime_env","args":[{"name":"envs","doc":null,"default_value":"","external_name":"envs","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"  \n{% for env in envs %}\n    raise \"Runtime environment variable {{ env.id }} is not defined!\" unless ENV.has_key?(\"{{ env.id }}\")\n  {% end %}\n\n\n"}}],"types":[{"html_id":"github.com/onyxframework/onyx/Onyx","path":"Onyx.html","kind":"module","full_name":"Onyx","name":"Onyx","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"onyx.cr","line_number":26,"url":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx.cr"},{"filename":"onyx/logger.cr","line_number":4,"url":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/logger.cr"},{"filename":"onyx/db.cr","line_number":6,"url":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/db.cr"},{"filename":"lib/onyx-eda/src/onyx-eda.cr","line_number":3,"url":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/lib/onyx-eda/src/onyx-eda.cr"},{"filename":"onyx/eda.cr","line_number":4,"url":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/eda.cr"},{"filename":"lib/onyx-http/src/onyx-http.cr","line_number":1,"url":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/lib/onyx-http/src/onyx-http.cr"},{"filename":"onyx/http.cr","line_number":4,"url":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr"},{"filename":"onyx/sql.cr","line_number":5,"url":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/sql.cr"}],"repository_name":"github.com/onyxframework/onyx","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":"Powerful framework for modern applications.\nSee [onyxframework.org](https://onyxframework.org).","summary":"<p>Powerful framework for modern applications.</p>","class_methods":[{"id":"channel:Onyx::EDA::Channel-class-method","html_id":"channel:Onyx::EDA::Channel-class-method","name":"channel","doc":"Top-level `Onyx::EDA::Channel` instance. It's in-memory by default.\nTo change the channel type, use `Onyx.channel(type)` macro.","summary":"<p>Top-level <code>Onyx::EDA::Channel</code> instance.</p>","abstract":false,"args":[],"args_string":" : Onyx::EDA::Channel","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/eda.cr#L9","def":{"name":"channel","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Onyx::EDA::Channel","visibility":"Public","body":"@@channel"}},{"id":"channel=(channel:Onyx::EDA::Channel)-class-method","html_id":"channel=(channel:Onyx::EDA::Channel)-class-method","name":"channel=","doc":"Top-level `Onyx::EDA::Channel` instance. It's in-memory by default.\nTo change the channel type, use `Onyx.channel(type)` macro.","summary":"<p>Top-level <code>Onyx::EDA::Channel</code> instance.</p>","abstract":false,"args":[{"name":"channel","doc":null,"default_value":"","external_name":"channel","restriction":"Onyx::EDA::Channel"}],"args_string":"(channel : Onyx::EDA::Channel)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/eda.cr#L13","def":{"name":"channel=","args":[{"name":"channel","doc":null,"default_value":"","external_name":"channel","restriction":"Onyx::EDA::Channel"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@channel = channel"}},{"id":"db:DB::Database-class-method","html_id":"db:DB::Database-class-method","name":"db","doc":"Top-level `DB::Database` instance. **requires** `DATABASE_URL` environment variable to be set.\nIt will validate the connection on program run with `Onyx.db.scalar(\"SELECT 1\")` call,\nraising of failure.","summary":"<p>Top-level <code>DB::Database</code> instance.</p>","abstract":false,"args":[],"args_string":" : DB::Database","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/db.cr#L12","def":{"name":"db","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"DB::Database","visibility":"Public","body":"@@db"}},{"id":"db=(db:DB::Database)-class-method","html_id":"db=(db:DB::Database)-class-method","name":"db=","doc":"Top-level `DB::Database` instance. **requires** `DATABASE_URL` environment variable to be set.\nIt will validate the connection on program run with `Onyx.db.scalar(\"SELECT 1\")` call,\nraising of failure.","summary":"<p>Top-level <code>DB::Database</code> instance.</p>","abstract":false,"args":[{"name":"db","doc":null,"default_value":"","external_name":"db","restriction":"DB::Database"}],"args_string":"(db : DB::Database)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/db.cr#L16","def":{"name":"db=","args":[{"name":"db","doc":null,"default_value":"","external_name":"db","restriction":"DB::Database"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@db = db"}},{"id":"delete(*args,**nargs)-class-method","html_id":"delete(*args,**nargs)-class-method","name":"delete","doc":"Define a DELETE route for the top-level `.router`.\nSee `HTTP::Router#delete`.","summary":"<p>Define a DELETE route for the top-level <code><a href=\"Onyx.html#router-class-method\">.router</a></code>.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **nargs)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr#L5","def":{"name":"delete","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"nargs","doc":null,"default_value":"","external_name":"nargs","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Onyx::HTTP::Singleton.instance.router.delete(*args, **nargs)"}},{"id":"delete(*args,**nargs,&block:HTTP::Server::Context->Nil)-class-method","html_id":"delete(*args,**nargs,&amp;block:HTTP::Server::Context-&gt;Nil)-class-method","name":"delete","doc":"Define a DELETE route with block for the top-level `.router`.\nSee `HTTP::Router#delete`.","summary":"<p>Define a DELETE route with block for the top-level <code><a href=\"Onyx.html#router-class-method\">.router</a></code>.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **nargs, &block : HTTP::Server::Context -> Nil)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr#L5","def":{"name":"delete","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"nargs","doc":null,"default_value":"","external_name":"nargs","restriction":""},"splat_index":0,"yields":1,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(::HTTP::Server::Context -> Nil)"},"return_type":"","visibility":"Public","body":"Onyx::HTTP::Singleton.instance.router.delete(*args, **nargs, &block)"}},{"id":"draw(&block)-class-method","html_id":"draw(&amp;block)-class-method","name":"draw","doc":"Draw routes for the top-level `.router`.\nSee `HTTP::Router#draw`.","summary":"<p>Draw routes for the top-level <code><a href=\"Onyx.html#router-class-method\">.router</a></code>.</p>","abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr#L32","def":{"name":"draw","args":[],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"with Onyx::HTTP::Singleton.instance.router yield"}},{"id":"emit(*args,**nargs)-class-method","html_id":"emit(*args,**nargs)-class-method","name":"emit","doc":"Call `Onyx::EDA::Channel#emit` on the `.channel`.","summary":"<p>Call <code>Onyx::EDA::Channel#emit</code> on the <code><a href=\"Onyx.html#channel%3AOnyx%3A%3AEDA%3A%3AChannel-class-method\">.channel</a></code>.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **nargs)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/eda.cr#L10","def":{"name":"emit","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"nargs","doc":null,"default_value":"","external_name":"nargs","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"channel.emit(*args, **nargs)"}},{"id":"exec(*args,**nargs)-class-method","html_id":"exec(*args,**nargs)-class-method","name":"exec","doc":"Call `Onyx::SQL::Repository#exec` on the top-level `.repo` instance.","summary":"<p>Call <code>Onyx::SQL::Repository#exec</code> on the top-level <code><a href=\"Onyx.html#repo%3AOnyx%3A%3ASQL%3A%3ARepository-class-method\">.repo</a></code> instance.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **nargs)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/sql.cr#L19","def":{"name":"exec","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"nargs","doc":null,"default_value":"","external_name":"nargs","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"repo.exec(*args, **nargs)"}},{"id":"get(*args,**nargs,&block:HTTP::Server::Context->Nil)-class-method","html_id":"get(*args,**nargs,&amp;block:HTTP::Server::Context-&gt;Nil)-class-method","name":"get","doc":"Define a GET route with block for the top-level `.router`.\nSee `HTTP::Router#get`.","summary":"<p>Define a GET route with block for the top-level <code><a href=\"Onyx.html#router-class-method\">.router</a></code>.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **nargs, &block : HTTP::Server::Context -> Nil)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr#L5","def":{"name":"get","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"nargs","doc":null,"default_value":"","external_name":"nargs","restriction":""},"splat_index":0,"yields":1,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(::HTTP::Server::Context -> Nil)"},"return_type":"","visibility":"Public","body":"Onyx::HTTP::Singleton.instance.router.get(*args, **nargs, &block)"}},{"id":"get(*args,**nargs)-class-method","html_id":"get(*args,**nargs)-class-method","name":"get","doc":"Define a GET route for the top-level `.router`.\nSee `HTTP::Router#get`.","summary":"<p>Define a GET route for the top-level <code><a href=\"Onyx.html#router-class-method\">.router</a></code>.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **nargs)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr#L5","def":{"name":"get","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"nargs","doc":null,"default_value":"","external_name":"nargs","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Onyx::HTTP::Singleton.instance.router.get(*args, **nargs)"}},{"id":"logger:Logger-class-method","html_id":"logger:Logger-class-method","name":"logger","doc":"The top-level `Logger` instance. Has a custom slim formatter and\nlevel depending on `CRYSTAL_ENV` environment variable:\n\n* `\"production\"` -- `INFO`\n* all other (including `nil`) -- `DEBUG`\n\n```\nrequire \"onyx/logger\"\nOnyx.logger.debug(\"Hello world!\")\n# DEBUG [12:45:52.520 #13543] Hello world!\n```","summary":"<p>The top-level <code>Logger</code> instance.</p>","abstract":false,"args":[],"args_string":" : Logger","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/logger.cr#L21","def":{"name":"logger","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Logger","visibility":"Public","body":"@@logger"}},{"id":"logger=(logger:Logger)-class-method","html_id":"logger=(logger:Logger)-class-method","name":"logger=","doc":"The top-level `Logger` instance. Has a custom slim formatter and\nlevel depending on `CRYSTAL_ENV` environment variable:\n\n* `\"production\"` -- `INFO`\n* all other (including `nil`) -- `DEBUG`\n\n```\nrequire \"onyx/logger\"\nOnyx.logger.debug(\"Hello world!\")\n# DEBUG [12:45:52.520 #13543] Hello world!\n```","summary":"<p>The top-level <code>Logger</code> instance.</p>","abstract":false,"args":[{"name":"logger","doc":null,"default_value":"","external_name":"logger","restriction":"Logger"}],"args_string":"(logger : Logger)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/logger.cr#L25","def":{"name":"logger=","args":[{"name":"logger","doc":null,"default_value":"","external_name":"logger","restriction":"Logger"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@logger = logger"}},{"id":"options(*args,**nargs)-class-method","html_id":"options(*args,**nargs)-class-method","name":"options","doc":"Define a OPTIONS route for the top-level `.router`.\nSee `HTTP::Router#options`.","summary":"<p>Define a OPTIONS route for the top-level <code><a href=\"Onyx.html#router-class-method\">.router</a></code>.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **nargs)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr#L5","def":{"name":"options","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"nargs","doc":null,"default_value":"","external_name":"nargs","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Onyx::HTTP::Singleton.instance.router.options(*args, **nargs)"}},{"id":"options(*args,**nargs,&block:HTTP::Server::Context->Nil)-class-method","html_id":"options(*args,**nargs,&amp;block:HTTP::Server::Context-&gt;Nil)-class-method","name":"options","doc":"Define a OPTIONS route with block for the top-level `.router`.\nSee `HTTP::Router#options`.","summary":"<p>Define a OPTIONS route with block for the top-level <code><a href=\"Onyx.html#router-class-method\">.router</a></code>.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **nargs, &block : HTTP::Server::Context -> Nil)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr#L5","def":{"name":"options","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"nargs","doc":null,"default_value":"","external_name":"nargs","restriction":""},"splat_index":0,"yields":1,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(::HTTP::Server::Context -> Nil)"},"return_type":"","visibility":"Public","body":"Onyx::HTTP::Singleton.instance.router.options(*args, **nargs, &block)"}},{"id":"patch(*args,**nargs)-class-method","html_id":"patch(*args,**nargs)-class-method","name":"patch","doc":"Define a PATCH route for the top-level `.router`.\nSee `HTTP::Router#patch`.","summary":"<p>Define a PATCH route for the top-level <code><a href=\"Onyx.html#router-class-method\">.router</a></code>.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **nargs)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr#L5","def":{"name":"patch","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"nargs","doc":null,"default_value":"","external_name":"nargs","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Onyx::HTTP::Singleton.instance.router.patch(*args, **nargs)"}},{"id":"patch(*args,**nargs,&block:HTTP::Server::Context->Nil)-class-method","html_id":"patch(*args,**nargs,&amp;block:HTTP::Server::Context-&gt;Nil)-class-method","name":"patch","doc":"Define a PATCH route with block for the top-level `.router`.\nSee `HTTP::Router#patch`.","summary":"<p>Define a PATCH route with block for the top-level <code><a href=\"Onyx.html#router-class-method\">.router</a></code>.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **nargs, &block : HTTP::Server::Context -> Nil)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr#L5","def":{"name":"patch","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"nargs","doc":null,"default_value":"","external_name":"nargs","restriction":""},"splat_index":0,"yields":1,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(::HTTP::Server::Context -> Nil)"},"return_type":"","visibility":"Public","body":"Onyx::HTTP::Singleton.instance.router.patch(*args, **nargs, &block)"}},{"id":"post(*args,**nargs)-class-method","html_id":"post(*args,**nargs)-class-method","name":"post","doc":"Define a POST route for the top-level `.router`.\nSee `HTTP::Router#post`.","summary":"<p>Define a POST route for the top-level <code><a href=\"Onyx.html#router-class-method\">.router</a></code>.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **nargs)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr#L5","def":{"name":"post","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"nargs","doc":null,"default_value":"","external_name":"nargs","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Onyx::HTTP::Singleton.instance.router.post(*args, **nargs)"}},{"id":"post(*args,**nargs,&block:HTTP::Server::Context->Nil)-class-method","html_id":"post(*args,**nargs,&amp;block:HTTP::Server::Context-&gt;Nil)-class-method","name":"post","doc":"Define a POST route with block for the top-level `.router`.\nSee `HTTP::Router#post`.","summary":"<p>Define a POST route with block for the top-level <code><a href=\"Onyx.html#router-class-method\">.router</a></code>.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **nargs, &block : HTTP::Server::Context -> Nil)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr#L5","def":{"name":"post","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"nargs","doc":null,"default_value":"","external_name":"nargs","restriction":""},"splat_index":0,"yields":1,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(::HTTP::Server::Context -> Nil)"},"return_type":"","visibility":"Public","body":"Onyx::HTTP::Singleton.instance.router.post(*args, **nargs, &block)"}},{"id":"put(*args,**nargs)-class-method","html_id":"put(*args,**nargs)-class-method","name":"put","doc":"Define a PUT route for the top-level `.router`.\nSee `HTTP::Router#put`.","summary":"<p>Define a PUT route for the top-level <code><a href=\"Onyx.html#router-class-method\">.router</a></code>.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **nargs)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr#L5","def":{"name":"put","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"nargs","doc":null,"default_value":"","external_name":"nargs","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Onyx::HTTP::Singleton.instance.router.put(*args, **nargs)"}},{"id":"put(*args,**nargs,&block:HTTP::Server::Context->Nil)-class-method","html_id":"put(*args,**nargs,&amp;block:HTTP::Server::Context-&gt;Nil)-class-method","name":"put","doc":"Define a PUT route with block for the top-level `.router`.\nSee `HTTP::Router#put`.","summary":"<p>Define a PUT route with block for the top-level <code><a href=\"Onyx.html#router-class-method\">.router</a></code>.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **nargs, &block : HTTP::Server::Context -> Nil)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr#L5","def":{"name":"put","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"nargs","doc":null,"default_value":"","external_name":"nargs","restriction":""},"splat_index":0,"yields":1,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(::HTTP::Server::Context -> Nil)"},"return_type":"","visibility":"Public","body":"Onyx::HTTP::Singleton.instance.router.put(*args, **nargs, &block)"}},{"id":"query(*args,**nargs)-class-method","html_id":"query(*args,**nargs)-class-method","name":"query","doc":"Call `Onyx::SQL::Repository#query` on the top-level `.repo` instance.","summary":"<p>Call <code>Onyx::SQL::Repository#query</code> on the top-level <code><a href=\"Onyx.html#repo%3AOnyx%3A%3ASQL%3A%3ARepository-class-method\">.repo</a></code> instance.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **nargs)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/sql.cr#L14","def":{"name":"query","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"nargs","doc":null,"default_value":"","external_name":"nargs","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"repo.query(*args, **nargs)"}},{"id":"renderer-class-method","html_id":"renderer-class-method","name":"renderer","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr#L56","def":{"name":"renderer","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"HTTP::Singleton.instance.renderer"}},{"id":"renderer=(value)-class-method","html_id":"renderer=(value)-class-method","name":"renderer=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr#L52","def":{"name":"renderer=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"HTTP::Singleton.instance.renderer = value"}},{"id":"repo:Onyx::SQL::Repository-class-method","html_id":"repo:Onyx::SQL::Repository-class-method","name":"repo","doc":"Top-level `Onyx::SQL::Repository instance`.\nHas `Onyx.db` as a *db* and and `Onyx.logger` as a *logger*.","summary":"<p>Top-level <code>Onyx::SQL::Repository instance</code>.</p>","abstract":false,"args":[],"args_string":" : Onyx::SQL::Repository","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/sql.cr#L12","def":{"name":"repo","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Onyx::SQL::Repository","visibility":"Public","body":"@@repo"}},{"id":"repo=(repo:Onyx::SQL::Repository)-class-method","html_id":"repo=(repo:Onyx::SQL::Repository)-class-method","name":"repo=","doc":"Top-level `Onyx::SQL::Repository instance`.\nHas `Onyx.db` as a *db* and and `Onyx.logger` as a *logger*.","summary":"<p>Top-level <code>Onyx::SQL::Repository instance</code>.</p>","abstract":false,"args":[{"name":"repo","doc":null,"default_value":"","external_name":"repo","restriction":"Onyx::SQL::Repository"}],"args_string":"(repo : Onyx::SQL::Repository)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/sql.cr#L16","def":{"name":"repo=","args":[{"name":"repo","doc":null,"default_value":"","external_name":"repo","restriction":"Onyx::SQL::Repository"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@repo = repo"}},{"id":"router-class-method","html_id":"router-class-method","name":"router","doc":"The top-level `HTTP::Router` instance.","summary":"<p>The top-level <code>HTTP::Router</code> instance.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr#L37","def":{"name":"router","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Onyx::HTTP::Singleton.instance.router"}},{"id":"scalar(*args,**nargs)-class-method","html_id":"scalar(*args,**nargs)-class-method","name":"scalar","doc":"Call `Onyx::SQL::Repository#scalar` on the top-level `.repo` instance.","summary":"<p>Call <code>Onyx::SQL::Repository#scalar</code> on the top-level <code><a href=\"Onyx.html#repo%3AOnyx%3A%3ASQL%3A%3ARepository-class-method\">.repo</a></code> instance.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **nargs)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/sql.cr#L24","def":{"name":"scalar","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"nargs","doc":null,"default_value":"","external_name":"nargs","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"repo.scalar(*args, **nargs)"}},{"id":"subscribe(object,event:T.class,&proc:T->Nil)forallT-class-method","html_id":"subscribe(object,event:T.class,&amp;proc:T-&gt;Nil)forallT-class-method","name":"subscribe","doc":"Call `Onyx::EDA::Channel#subscribe` on the `.channel`.","summary":"<p>Call <code>Onyx::EDA::Channel#subscribe</code> on the <code><a href=\"Onyx.html#channel%3AOnyx%3A%3AEDA%3A%3AChannel-class-method\">.channel</a></code>.</p>","abstract":false,"args":[{"name":"object","doc":null,"default_value":"","external_name":"object","restriction":""},{"name":"event","doc":null,"default_value":"","external_name":"event","restriction":"T.class"}],"args_string":"(object, event : <span class=\"t\">T</span>.<span class=\"k\">class</span>, &proc : T -> Nil) forall T","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/eda.cr#L15","def":{"name":"subscribe","args":[{"name":"object","doc":null,"default_value":"","external_name":"object","restriction":""},{"name":"event","doc":null,"default_value":"","external_name":"event","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":"(T -> Nil)"},"return_type":"","visibility":"Public","body":"channel.subscribe(object, event, &proc)"}},{"id":"unsubscribe(*args,**nargs)-class-method","html_id":"unsubscribe(*args,**nargs)-class-method","name":"unsubscribe","doc":"Call `Onyx::EDA::Channel#unsubscribe` on the `.channel`.","summary":"<p>Call <code>Onyx::EDA::Channel#unsubscribe</code> on the <code><a href=\"Onyx.html#channel%3AOnyx%3A%3AEDA%3A%3AChannel-class-method\">.channel</a></code>.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **nargs)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/eda.cr#L25","def":{"name":"unsubscribe","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"nargs","doc":null,"default_value":"","external_name":"nargs","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"channel.unsubscribe(*args, **nargs)"}},{"id":"unsubscribe(object,event:T.class,&proc:T->Nil)forallT-class-method","html_id":"unsubscribe(object,event:T.class,&amp;proc:T-&gt;Nil)forallT-class-method","name":"unsubscribe","doc":"Call `Onyx::EDA::Channel#unsubscribe` on the `.channel`.","summary":"<p>Call <code>Onyx::EDA::Channel#unsubscribe</code> on the <code><a href=\"Onyx.html#channel%3AOnyx%3A%3AEDA%3A%3AChannel-class-method\">.channel</a></code>.</p>","abstract":false,"args":[{"name":"object","doc":null,"default_value":"","external_name":"object","restriction":""},{"name":"event","doc":null,"default_value":"","external_name":"event","restriction":"T.class"}],"args_string":"(object, event : <span class=\"t\">T</span>.<span class=\"k\">class</span>, &proc : T -> Nil) forall T","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/eda.cr#L20","def":{"name":"unsubscribe","args":[{"name":"object","doc":null,"default_value":"","external_name":"object","restriction":""},{"name":"event","doc":null,"default_value":"","external_name":"event","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":"(T -> Nil)"},"return_type":"","visibility":"Public","body":"channel.unsubscribe(object, event, &proc)"}},{"id":"ws(*args,**nargs)-class-method","html_id":"ws(*args,**nargs)-class-method","name":"ws","doc":"Define a \"ws://\" route with block for the top-level `.router`.\nSee `HTTP::Router#ws`.","summary":"<p>Define a \"ws://\" route with block for the top-level <code><a href=\"Onyx.html#router-class-method\">.router</a></code>.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **nargs)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr#L26","def":{"name":"ws","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"nargs","doc":null,"default_value":"","external_name":"nargs","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Onyx::HTTP::Singleton.instance.router.ws(*args, **nargs)"}},{"id":"ws(*args,**nargs,&block:::HTTP::WebSocket,HTTP::Server::Context->Nil)-class-method","html_id":"ws(*args,**nargs,&amp;block:::HTTP::WebSocket,HTTP::Server::Context-&gt;Nil)-class-method","name":"ws","doc":"Define a \"ws://\" route with block for the top-level `.router`.\nSee `HTTP::Router#ws`.","summary":"<p>Define a \"ws://\" route with block for the top-level <code><a href=\"Onyx.html#router-class-method\">.router</a></code>.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **nargs, &block : ::HTTP::WebSocket, HTTP::Server::Context -> Nil)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr#L21","def":{"name":"ws","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"nargs","doc":null,"default_value":"","external_name":"nargs","restriction":""},"splat_index":0,"yields":2,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(::HTTP::WebSocket, ::HTTP::Server::Context -> Nil)"},"return_type":"","visibility":"Public","body":"Onyx::HTTP::Singleton.instance.router.ws(*args, **nargs, &block)"}}],"constructors":[],"instance_methods":[],"macros":[{"id":"channel(type)-macro","html_id":"channel(type)-macro","name":"channel","doc":"Change the `Onyx.channel` type.\nThe only valid value is `redis`.\n\nNOTE: It must be called **before** any event is declared.\n\n```\nrequire \"onyx/eda\"\n\nOnyx.channel(:redis)\n\nstruct MyEvent\n  include Onyx::EDA::Event\nend\n\n# ...\n```","summary":"<p>Change the <code><a href=\"Onyx.html#channel%3AOnyx%3A%3AEDA%3A%3AChannel-class-method\">Onyx.channel</a></code> type.</p>","abstract":false,"args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"args_string":"(type)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/eda.cr#L45","def":{"name":"channel","args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% if type.id == \"redis\".id %}\n      require \"onyx/env\"\n      require \"onyx-eda/channel/redis\"\n\n      runtime_env REDIS_URL\n\n      Onyx.channel = Onyx::EDA::Channel::Redis.new(ENV[\"REDIS_URL\"])\n    {% else %}\n      {% raise(\"Unknown EDA channel #{type} (valid value is \\\"redis\\\")\") %}\n    {% end %}\n\n  \n"}},{"id":"listen(host=&quot;127.0.0.1&quot;,port=5000,reuse_port=false,**handler_options,&block)-macro","html_id":"listen(host=&amp;quot;127.0.0.1&amp;quot;,port=5000,reuse_port=false,**handler_options,&amp;block)-macro","name":"listen","doc":"Instantiate an `Onyx::HTTP::Server`, bind it to the *host* and *port* and start listening.\nRoutes for it are defined with top-level `Onyx.get` methods and its siblings.\n\nYou can insert your custom code into the `&block`.\nAt this point, `handlers` variable will be available.","summary":"<p>Instantiate an <code>Onyx::HTTP::Server</code>, bind it to the <em>host</em> and <em>port</em> and start listening.</p>","abstract":false,"args":[{"name":"host","doc":null,"default_value":"\"127.0.0.1\"","external_name":"host","restriction":""},{"name":"port","doc":null,"default_value":"5000","external_name":"port","restriction":""},{"name":"reuse_port","doc":null,"default_value":"false","external_name":"reuse_port","restriction":""}],"args_string":"(host = <span class=\"s\">&quot;127.0.0.1&quot;</span>, port = <span class=\"n\">5000</span>, reuse_port = <span class=\"n\">false</span>, **handler_options, &block)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr#L65","def":{"name":"listen","args":[{"name":"host","doc":null,"default_value":"\"127.0.0.1\"","external_name":"host","restriction":""},{"name":"port","doc":null,"default_value":"5000","external_name":"port","restriction":""},{"name":"reuse_port","doc":null,"default_value":"false","external_name":"reuse_port","restriction":""}],"double_splat":{"name":"handler_options","doc":null,"default_value":"","external_name":"handler_options","restriction":""},"splat_index":null,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":""},"visibility":"Public","body":"    handlers = Onyx::HTTP::Singleton.instance.handlers(\n{{ handler_options.double_splat }}\n)\n    \n{{ (yield).id }}\n\n    server = Onyx::HTTP::Server.new(handlers, logger: Onyx.logger)\n    server.bind_tcp(\n{{ host }}\n, \n{{ port }}\n, reuse_port: \n{{ reuse_port }}\n)\n    server.listen\n  \n"}},{"id":"render(io,path)-macro","html_id":"render(io,path)-macro","name":"render","doc":"Render a template at *path* into *io* with [Kilt](https://github.com/jeromegn/kilt).\n\n```\nOnyx.render(env.response, \"./hello.html.ecr\")\n# Expands to\nKilt.embed(\"./hello.html.ecr\", env.response)\n```","summary":"<p>Render a template at <em>path</em> into <em>io</em> with <a href=\"https://github.com/jeromegn/kilt\" target=\"_blank\">Kilt</a>.</p>","abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":""}],"args_string":"(io, path)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr#L48","def":{"name":"render","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    Kilt.embed(\n{{ path }}\n, \n{{ io }}\n)\n  \n"}}],"types":[{"html_id":"github.com/onyxframework/onyx/Onyx/HTTP","path":"Onyx/HTTP.html","kind":"module","full_name":"Onyx::HTTP","name":"HTTP","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"lib/onyx-http/src/onyx-http.cr","line_number":3,"url":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/lib/onyx-http/src/onyx-http.cr"},{"filename":"lib/onyx-http/src/onyx-http/error.cr","line_number":1,"url":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/lib/onyx-http/src/onyx-http/error.cr"},{"filename":"lib/onyx-http/src/onyx-http/server.cr","line_number":3,"url":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/lib/onyx-http/src/onyx-http/server.cr"},{"filename":"onyx/http.cr","line_number":73,"url":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr"}],"repository_name":"github.com/onyxframework/onyx","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/onyxframework/onyx/Onyx","kind":"module","full_name":"Onyx","name":"Onyx"},"doc":"HTTP framework.","summary":"<p>HTTP framework.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/onyxframework/onyx/Onyx/HTTP/Singleton","path":"Onyx/HTTP/Singleton.html","kind":"class","full_name":"Onyx::HTTP::Singleton","name":"Singleton","abstract":false,"superclass":{"html_id":"github.com/onyxframework/onyx/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/onyxframework/onyx/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/onyxframework/onyx/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"onyx/http.cr","line_number":76,"url":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr"}],"repository_name":"github.com/onyxframework/onyx","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/onyxframework/onyx/Onyx/HTTP","kind":"module","full_name":"Onyx::HTTP","name":"HTTP"},"doc":"The singleton instance of an Onyx HTTP server wrapper.\nIt is **not** initialized unless called.","summary":"<p>The singleton instance of an Onyx HTTP server wrapper.</p>","class_methods":[{"id":"instance-class-method","html_id":"instance-class-method","name":"instance","doc":"The singleton instance.","summary":"<p>The singleton instance.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr#L78","def":{"name":"instance","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@instance || (@@instance = new)"}}],"constructors":[],"instance_methods":[{"id":"handlers(cors=nil)-instance-method","html_id":"handlers(cors=nil)-instance-method","name":"handlers","doc":"The default set of handlers. See its source code to find out which handlers in particular.\nYou can in theory modify these handlers in the `Onyx.listen` block.","summary":"<p>The default set of handlers.</p>","abstract":false,"args":[{"name":"cors","doc":null,"default_value":"nil","external_name":"cors","restriction":""}],"args_string":"(cors = <span class=\"n\">nil</span>)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr#L96","def":{"name":"handlers","args":[{"name":"cors","doc":null,"default_value":"nil","external_name":"cors","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"[Middleware::ResponseTime.new, Middleware::RequestID.new, Middleware::Logger.new(Onyx.logger, query: ENV[\"CRYSTAL_ENV\"]? != \"production\"), cors ? Middleware::CORS.new(**cors) : Middleware::CORS.new, Middleware::Rescuer::Standard(Exception).new(renderer, Onyx.logger, verbose: true), Middleware::Rescuer::Error.new(renderer), router, renderer].compact!"}},{"id":"renderer:HTTP::Handler-instance-method","html_id":"renderer:HTTP::Handler-instance-method","name":"renderer","doc":"The singleton renderer instance.","summary":"<p>The singleton renderer instance.</p>","abstract":false,"args":[],"args_string":" : HTTP::Handler","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr#L92","def":{"name":"renderer","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@renderer"}},{"id":"renderer=(renderer)-instance-method","html_id":"renderer=(renderer)-instance-method","name":"renderer=","doc":"The singleton renderer instance.","summary":"<p>The singleton renderer instance.</p>","abstract":false,"args":[{"name":"renderer","doc":null,"default_value":"","external_name":"renderer","restriction":""}],"args_string":"(renderer)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr#L92","def":{"name":"renderer=","args":[{"name":"renderer","doc":null,"default_value":"","external_name":"renderer","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@renderer = renderer"}},{"id":"router:Onyx::HTTP::Middleware::Router-instance-method","html_id":"router:Onyx::HTTP::Middleware::Router-instance-method","name":"router","doc":"The singleton `HTTP::Router` instance.","summary":"<p>The singleton <code>HTTP::Router</code> instance.</p>","abstract":false,"args":[],"args_string":" : Onyx::HTTP::Middleware::Router","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr#L85","def":{"name":"router","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@router"}},{"id":"router=(router)-instance-method","html_id":"router=(router)-instance-method","name":"router=","doc":"The singleton `HTTP::Router` instance.","summary":"<p>The singleton <code>HTTP::Router</code> instance.</p>","abstract":false,"args":[{"name":"router","doc":null,"default_value":"","external_name":"router","restriction":""}],"args_string":"(router)","source_link":"https://github.com/onyxframework/onyx/blob/351cc5375b899e7f64dc421a6ab0bfdcd96a52d8/src/onyx/http.cr#L85","def":{"name":"router=","args":[{"name":"router","doc":null,"default_value":"","external_name":"router","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@router = router"}}],"macros":[],"types":[]}]}]}]}}